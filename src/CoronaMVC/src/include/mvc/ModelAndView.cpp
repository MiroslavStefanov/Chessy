#include "pch.h"
#include "ModelAndView.h"
#include "Model.h"
#include <cassert>

namespace mvc
{
	////////////////////////////////////////////////////////////////////////////////////////////////
	ModelAndView ModelAndView::Invalid()
	{
		return ModelAndView(ViewId::Invalid());
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	ModelAndView ModelAndView::CreateFromViewId(ViewId viewId)
	{
		assert(viewId.IsValid());
		return ModelAndView(viewId);
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	ModelAndView::ModelAndView(ViewId viewId) : m_viewId(viewId)
	{
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	ModelAndView::ModelAndView(ModelAndView&& other) noexcept
		: m_viewId(other.m_viewId)
		, m_dataModel(std::move(other.m_dataModel))
	{
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	ModelAndView::~ModelAndView() = default;

	////////////////////////////////////////////////////////////////////////////////////////////////
	bool ModelAndView::IsValid() const
	{
		return m_viewId.IsValid();
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	ViewId ModelAndView::GetViewId() const
	{
		return m_viewId;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	void ModelAndView::SetModel(std::unique_ptr<Model>&& dataModel)
	{
		m_dataModel = std::move(dataModel);
	}
}